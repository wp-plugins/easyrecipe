window.EASYRECIPE=window.EASYRECIPE||{};
(function(b){var v=EASYRECIPE;b(function(){var b,m=[],f=["gradient","picker_thumb","trigger","rainbow","hue_thumb"];for(b=0;b<f.length;b++)m.push(new Image),m[b].src=v.easyrecipeURL+"/css/images/format/"+f[b]+".png"});b.fn.ERColorPicker=function(p,m,f){function t(b){var f;b=b.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);try{return f=("#"+("0"+parseInt(b[1],10).toString(16)).slice(-2)+("0"+parseInt(b[2],10).toString(16)).slice(-2)+("0"+parseInt(b[3],10).toString(16)).slice(-2)).toUpperCase()}catch(k){}return null}var k,
w=this,r=b(p);k="";if(p=r.css(f||m))k="transparent"!==p?t(p):p,this.val(k);this.miniColors({change:function(b){"none"===b?r.css(m,""):r.css(m,b)},cancel:function(){r.css(m,this.data("oldColor"));"none"===this.data("oldColor")||"transparent"===this.data("oldColor")?this.miniColors("value",""):this.miniColors("value",this.data("oldColor"));this.data("color",this.data("oldColor"))},save:function(){var b=this.data("color");w.trigger("formatchange");"none"!==b&&"transparent"!==b||this.miniColors("value",
"");this.data("oldColor",b)},onShow:function(b){k=b},value:k})}})(jQuery);
(function(b){b.widget("ui.combobox",{_create:function(){var v=this,p=this.element.hide(),m=p.children(":selected"),m=m.val()?m.text():"",f=b("<input />").insertAfter(p).val(m).autocomplete({delay:0,minLength:0,source:function(f,k){var m=new RegExp(b.ui.autocomplete.escapeRegex(f.term),"i");k(p.children("option").map(function(){var k=b(this).text();if(this.value&&(!f.term||m.test(k)))return{label:k.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.ui.autocomplete.escapeRegex(f.term)+")(?![^<>]*>)(?![^&;]+;)",
"gi"),"<strong>$1</strong>"),value:k,option:this}}))},select:function(b,f){f.item.option.selected=!0;v._trigger("selected",b,{item:f.item.option})},change:function(f,k){var m,r;return k.item||(m=new RegExp("^"+b.ui.autocomplete.escapeRegex(b(this).val())+"$","i"),r=!1,p.children("option").each(function(){return this.value.match(m)?(this.selected=r=!0,!1):!0}),r)?!0:(b(this).val(""),p.val(""),!1)}}).addClass("ui-widget ui-widget-content ui-corner-left");f.autocomplete("widget").wrap('<div class="easyrecipeFormatUI" />');
(f.data("uiAutocomplete")?f.data("uiAutocomplete"):f.data("autocomplete"))._renderItem=function(f,k){return b("<li></li>").data("item.autocomplete",k).append("<a>"+k.label+"</a>").appendTo(f)};b("<button>\u00a0</button>").attr("tabIndex",-1).attr("title","Show All Items").insertAfter(f).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){f.autocomplete("widget").is(":visible")?f.autocomplete("close"):(f.autocomplete("search",
""),f.focus())})}})})(jQuery);
(function(b){function v(b){b.data.target.css("borderStyle",b.target.value)}function p(b,m){var k;b="400"===b?"normal":"700"===b?"bold":b;for(k=0;k<m.length;k++)if(b===m[k].value){m[k].selected=!0;break}}var m=EASYRECIPE;b.fn.ERFontChange=function(f,t){function k(a,b){h.css("fontFamily",b.item.value);c.trigger("formatchange")}function w(a){h.css("fontStyle",a.target.value);c.trigger("formatchange")}function r(a){h.css("fontWeight",a.target.value);c.trigger("formatchange")}function z(a){h.css("listStyleType",
a.target.value);c.trigger("formatchange")}function A(a){h.css("listStylePosition",a.target.value);c.trigger("formatchange")}var y,n,l,u,x,q=-1,h=b(f),a=/ /g,d,e,c=this,g=t||{},D=g.spacing||{};if(0!==h.length)return this.append(m.fontChangeHTML),g.showList||this.find(".divERFFList").hide(),g.showBorder||this.find(".divERFBBorder").hide(),l=m.fonts||["inherit","Arial"],n=h.css("fontFamily")||"",y=this.find(".EFFFamily"),y.each(function(){var b=this.options;for(d=0;d<l.length;d++){var c=n;l[d].replace(a,
"")===c.replace(a,"")&&(e=!0,q=d);x=d===q;u=l[d];b[d]=new Option(l[d],u,x,x)}e||(b[b.length]=new Option(n,n,!0,!0))}),this.find(".EFFFamily").combobox({selected:k}),this.find(".ERFFColorInput").ERColorPicker(f,"color"),this.find(".ERFFBGColorInput").ERColorPicker(f,"backgroundColor"),p(h.css("fontStyle"),this.find(".lbERFFStyle option")),this.find(".lbERFFStyle").change(w),p(h.css("fontWeight"),this.find(".lbERFFWeight option")),this.find(".lbERFFWeight").change(r),g.showList&&(p(h.css("listStyleType"),
this.find(".lbERFListStyle option")),this.find(".lbERFListStyle").change(z),p(h.css("listStylePosition"),this.find(".lbERFListPosition option")),this.find(".lbERFListPosition").change(A)),this.find(".ERFFSize").ERSlider({min:8,max:50,value:parseInt(b(f).css("fontSize"),10),style:"fontSize",selector:f}),b.extend(D,{title:"Margin",type:"margin",min:-30}),this.find(".ERFFMargin").spacing(f,D),b.extend(D,{title:"Padding",type:"padding",min:0}),this.find(".ERFFPadding").spacing(f,D),g.showBorder&&(b(".ERBorderColorPick").ERColorPicker(h,
"borderColor","borderTopColor"),p(h.css("borderTopStyle"),b(".ERBorderStyle option")),b(".ERBorderStyle").change({target:h},v),b(".divERFBBorderSliderBox").ERSlider({min:1,max:10,value:parseInt(h.css("borderTopWidth"),10),selector:f,style:"borderWidth"})),this}})(jQuery);
(function(b){b.fn.ERSlider=function(v){var p,m,f,t=this,k={width:120,min:1,max:20,value:1,selector:"",style:""};b.extend(k,v);p=b(k.selector);m=b('<input class=ERSliderInput" type="text" max="2" size="2" />');f=b('<span class="ERSliderSlider"></span>');f.slider({min:k.min,max:k.max,value:k.value,slide:function(b,f){m.val(f.value);p.css(k.style,f.value+"px");t.trigger("formatchange")}});m.val(k.value);m.bind("change",function(b){f.slider("value",b.target.value);p.css(k.style,b.target.value+"px");t.trigger("formatchange")});
b(this).append(m);b(this).append(f);return this}})(jQuery);
(function(b){b.fn.spacing=function(v,p){function m(a,e){var c,g,f=e.value+w;A.trigger("formatchange");c=b.data(a.target,z);y.css(c.style,f);c.input.val(e.value);if(c.position===k&&x)for(g in c=c.sliders,c)g!==k&&c.hasOwnProperty(g)&&(c[g].input.val(e.value),c[g].slider.slider(r,e.value),y.css(h.type+g,f))}function f(a){a.data.slider.slider(r,a.target.value);m({target:a.data.slider[0]},{value:a.target.value})}var t,k="Top",w="px",r="value",z="sProperties",A=this,y=b(v),n={Top:0,Bottom:0,Left:0,Right:0},
l,u,x=!1,q,h={type:"margin",title:"",min:0,max:50},a;b.extend(h,p);q=b("<div></div>");q.append(b('<div class="ERFOptionHeader"><span class="ERFOptionTitle"></span><span class="ERFSpacingSameForAll"><label>Same for all <input type="checkbox" class="ERFSpacingSameCB" /></label></span></div>'));a={};for(l in n)n.hasOwnProperty(l)&&(n[l]=parseInt(y.css(h.type+l),10),a[l]={},u=b('<div class="ERFSliderLine"><div class="ERFSliderType"></div><div><input class="ERFSliderValue" type="text" size="2" maxlength="2" /></div><div class="ERFSpacingSlider"></div></div>'),
a[l].input=u.find(".ERFSliderValue"),a[l].input.val(n[l]),a[l].postion=l,u.find(".ERFSliderType").html(l),t={style:h.type+l,input:a[l].input,position:l},a[l].slider=u.find(".ERFSpacingSlider").slider({min:h.min,max:h.max,value:n[l],slide:m}).data(z,t),a[l].input.change({slider:a[l].slider},f),q.append(u));t=a[k].slider.data();b.extend(t.sProperties,{sliders:a});a[k].slider.data(t);q.find(".ERFSpacingSameCB").click(t.sProperties,function(a){var b,c,g=a.data.sliders;x=a.target.checked;a=a.data.input.val();
for(b in g)g.hasOwnProperty(b)&&b!==k&&(c=g[b].slider,x?(c.slider(r,a),c.slider("disable"),g[b].input.val(a),g[b].input.attr("disabled","disabled"),y.css(h.type+b,a+w)):(c.slider("enable"),g[b].input.removeAttr("disabled")))});this.append(q);this.find(".ERFOptionTitle").html(h.title);return this}})(jQuery);window.EASYRECIPE=window.EASYRECIPE||{};EASYRECIPE.widget=EASYRECIPE.widget||jQuery.widget;
(function(b){function v(){q=!0}function p(){var a,d={},c=window.location.href,g;g=c.split("?");c=g[0];(1<g.length?g[1]:"").replace(RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,b,c,g){d[b]=g});c+="?style="+b("#lbERFStyles").val();for(a in d)d.hasOwnProperty(a)&&"style"!==a&&d.hasOwnProperty(a)&&(c+="&"+a,""!==d[a]&&(c+="="+d[a]));window.location.replace(c)}function m(a){M.removeAttr("disabled");I.attr("disabled","disabled");b(".ERFDSStyleSelect img").attr("src",s.styleThumbs[a.target.value])}function f(){""!==
J&&(e.show().html("Saving..."),b.ajax({url:s.ajaxURL+"?action=easyrecipeSaveStyle",type:"POST",data:{style:J},success:function(){window.location.replace(N)}}))}function t(){var a;confirm("This will clear your custom formatting\nAre you sure you want to do this?")&&(d.show().html("Resetting..."),a="css="+JSON.stringify([]),s.isPrint&&(a+="&isPrint=1"),b.ajax({url:s.ajaxURL+"?action=easyrecipeCustomCSS",type:"POST",data:a,success:function(){window.location.reload()}}))}function k(b,c){var d,g=c.newHeader.height();
g&&(d=c.newHeader.position().top,g+=c.newPanel?c.newPanel.height()+3:c.newContent.height()+3,u-l>d+g||(d-=(u-g)/2,a.animate({scrollTop:d},500)))}function w(a,b){0!==(b.newTab?b.newTab.index():b.index)?g.hide():g.show()}function r(){var a;n=b(".ERFormatDialog");u=n.height();l=n.find(".ui-dialog-titlebar").height();a=b("#wpadminbar").height();"undefined"===typeof a&&(a=0);u>b(window).height()-a-10?(n.css("top",a+5+"px"),n.css("position","absolute")):n.css("position","fixed")}function z(){var g={},e,
f;d.show().html("Updating...");for(e=0;e<E.length;e++)B[E[e]]&&(g[E[e]]=B[E[e]]);for(e=0;e<F.length;e++)b(F[e]),(f=b(F[e]).attr("style"))&&(g[F[e]]=f);g="css="+JSON.stringify(g);s.isPrint&&(g+="&isPrint=1");b.ajax({url:s.ajaxURL+"?action=easyrecipeCustomCSS",type:"POST",data:g,success:function(){q=!1;d.hide();x||(x=!1,a.dialog(c))}})}function A(){return q?(h||(h=b("<div></div>").dialog({resizable:!1,width:375,autoOpen:!1,title:"You have unsaved changes",modal:!0,height:75,buttons:{Cancel:function(){h.dialog(c)},
"Ignore Changes":function(){q=!1;h.dialog(c);a.dialog(c);window.location.reload()},"Save Changes":function(){x=!0;z();h.dialog(c)}},dialogClass:"ERFSaveAlert",close:function(){b(".ERFSaveAlert").filter(function(){return""===b(this).text()}).remove()},open:function(a,c){b(".ui-widget-overlay").wrap('<div id="easyrecipeFormatUI" class="easyrecipeFormatUI" />')}}),h.parent(".ui-dialog").wrap('<div id="easyrecipeFormatUI" class="easyrecipeFormatUI" />')),h.parent(".ui-dialog").css(G,101+C),h.dialog(K,
G,101+C),h.dialog(O),!1):!0}function y(c){var d;0===C&&b("*").each(function(){d=parseInt(b(this).css(G),10)||0;d>C&&(C=d)});c.preventDefault();a.parent(".ui-dialog").css(G,100+C);a.dialog(O);a.dialog(K,G,100+C);a.dialog(K,"position",[60,60])}var n,l,u,x=!1,q=!1,h=null,a,d,e,c="close",g,D="Format EasyRecipe",L,H,s,K="option",G="zIndex",O="open",P=/\?family=([^&]+)/i,C=0,Q=/^.*[?&](style=([^&]+)).*$/i,J="",N,M,I,B,E=[],F=[".easyrecipe"];b(function(){var c,h,l,n,q=null;L=b(".easyrecipe");s=EASYRECIPE;
b("#wp-admin-bar-ERFormatMenu").on("click",y);jQuery.widget!==s.widget&&(q=jQuery.widget,jQuery.widget=s.widget);s.isPrint&&(b("#liERFPrint").remove(),b("#ERFPrint").remove(),D="Format EasyRecipe Print",b("#liERFDisplayTab").find("a").text("Print Format"),b("#liERFDisplayStyles").find("a").text("Print Styles"));n=b(".ERFDialogBox");try{a=n.dialog({resizable:!1,autoOpen:!1,width:350,height:635,title:D,position:[60,60],open:r,dialogClass:"ERFormatDialog",beforeClose:A})}catch(u){}a.parent(".ui-dialog.ERFormatDialog").wrap('<div id="easyrecipeFormatUI" class="easyrecipeFormatUI" />');
d=b("#divERFWait");e=b("#divERFWaitStyle");g=b("#ERFButtons");s.fonts="Arial, Verdana, sans-serif;Comic Sans MS, cursive;Tahoma, Verdana, sans-serif;'Trebuchet MS', Verdana, sans-serif;'Times New Roman', serif;Verdana, Arial, sans-serif".split(";");b("link[rel='stylesheet'][href*='fonts.googleapis.com']").each(function(){var a;a=decodeURIComponent(this.href);a=P.exec(a);if(null!==a)for(a=a[1].split("|"),l=0;l<a.length;l++)s.fonts.push(a[l].replace(/(.*?):.*/ig,"$1").replace(/\+/ig," "))});s.fonts.sort();
s.fonts.unshift("inherit");L.on("click",y).addClass("ERPointer").attr("title","Click to open the formatting window");b("#ERFTabs").tabs({active:0,beforeActivate:w});b("#ERFAccordion").accordion({active:!1,collapsible:!0,heightStyle:"content",activate:k});n.bind("formatchange",v);try{B=JSON.parse(s.customCSS)}catch(x){B={}}for(h in B)B.hasOwnProperty(h)&&B&&B[h]&&b(h).attr("style",B[h]);try{H=b.parseJSON(s.formatting)}catch(C){H=[]}for(l=0;l<H.length;l++){n=H[l];h=b("#ER_erf_"+n.id);switch(n.type){case "recipe":c=
h.ERFontChange(n.target,{showBorder:!0});break;case "font":case "button":c=h.ERFontChange(n.target);break;case "list":c=h.ERFontChange(n.target,{showList:!0,spacing:{min:-30}})}null===c||void 0==c?E.push(n.target):F.push(n.target)}b("#btnERFReset").on("click",t);b("#btnERFUpdate").on("click",z);M=b("#btnERFTryStyle").on("click",p);b("#lbERFStyles").on("change",m);s.styleThumbs=b.parseJSON(s.styleThumbs);c=Q.exec(window.location.href);null!==c?(J=c[2],N=c[0].replace(c[1],"").replace("?&","?").replace(/^(.*)&$/g,
"$1"),I=b("#btnERFSaveStyle").on("click",f)):I=b("#btnERFSaveStyle").attr("disabled","disabled");b(".ERSPrintBtn").on("click",function(a){a.stopPropagation()});null!==q&&(jQuery.widget=q)})})(jQuery);
jQuery&&function(b){b.extend(b.fn,{miniColors:function(v,p){function m(a){var b;a=a.data.input;w(a);(b=a.data("cancel"))&&b.call(a)}function f(a){var b;a=a.data.input;w(a);(b=a.data("save"))&&b.call(a)}var t=function(a,d,e){var c;e=q("#FFFFFF");c="none";c=a.val();a.data("oldColor",c);"#"===c.charAt(0)?((c=l(c))&&(e=q(c)),a.data("color",c)):(a.val(""),a.data("color",c),c="");c=b('<a class="miniColors-trigger" style="background-color: #'+c+'" href="#"></a>');c.insertAfter(a);a.addClass("miniColors").attr("maxlength",
7).attr("autocomplete","off");a.data("trigger",c);a.data("hsb",e);d.change&&a.data("change",d.change);d.cancel&&a.data("cancel",d.cancel);d.save&&a.data("save",d.save);d.onShow&&a.data("onShow",d.onShow);d.readonly&&a.attr("readonly",!0);c.bind("click.miniColors",function(b){b.preventDefault();a.trigger("focus")});a.bind("focus.miniColors",function(){k(a)});a.bind("blur.miniColors",function(){var b=l(a.val());a.val(b?"#"+b:"")});a.bind("keydown.miniColors",function(b){9===b.keyCode&&w(a)});a.bind("keyup.miniColors",
function(){var c=a.val().replace(/[^A-F0-9#]/ig,"");a.val(c);var d,e;if(c=l(a.val())){c=q(c);d=a.data("hsb");if(c.h!==d.h||c.s!==d.s||c.b!==d.b)e=y(c),d=b(a.data("colorPicker")),d.css("top",e.y+"px").css("left",e.x+"px"),e=n(c),d=b(a.data("huePicker")),d.css("top",e.y+"px"),A(a,c,!1);c=!0}else c=!1;c||a.data("trigger").css("backgroundColor","#FFF")});a.bind("paste.miniColors",function(){setTimeout(function(){a.trigger("keyup")},5)})},k=function(a){var d,e,c;if(a.attr("disabled"))return!1;w();d=b('<div id="miniColors" class="miniColors-selector"></div>');
d.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>');d.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>');d.append('<div class="cpButtons"><div class="miniColors-none" style="float:left"><label><input type="checkbox" /> None</label></div><div class="miniColors-X" style="float:left;padding-left:6px"><label><input type="checkbox" /> X</label></div><div class="cpCancel"><a></a></div><div class="cpSave"><a></a></div></div>');
d.css({top:a.is(":visible")?a.offset().top+a.outerHeight():a.data("trigger").offset().top+a.data("trigger").outerHeight(),left:a.is(":visible")?a.offset().left:a.data("trigger").offset().left,display:"none",zIndex:1+parseInt(b(".ERFormatDialog").css("zIndex"),10)}).addClass(a.attr("class"));c=a.data("hsb");e=a.data("color");"none"===e?(d.find(".miniColors-colors").addClass("miniColors-nocolor"),d.find(".miniColors-none input").attr("checked",!0),d.find(".miniColors-colorPicker").hide(),d.find(".miniColors-huePicker").hide(),
d.find(".miniColors-hues").css("opacity",0.3)):"transparent"===e?(d.find(".miniColors-colors").addClass("miniColors-transparent"),d.find(".miniColors-X input").attr("checked",!0),d.find(".miniColors-colorPicker").hide(),d.find(".miniColors-huePicker").hide(),d.find(".miniColors-hues").css("opacity",0.3)):d.find(".miniColors-colors").css("backgroundColor","#"+h({h:c.h,s:100,b:100}));(e=a.data("colorPosition"))||(e=y(c));d.find(".miniColors-colorPicker").css("top",e.y+"px").css("left",e.x+"px");(e=
a.data("huePosition"))||(e=n(c));d.find(".miniColors-huePicker").css("top",e.y+"px");a.data("selector",d);a.data("huePicker",d.find(".miniColors-huePicker"));a.data("colorPicker",d.find(".miniColors-colorPicker"));a.data("mousebutton",0);b("BODY").append(d);b(".miniColors-none input").bind("click",function(b){b.target.checked?(d.find(".miniColors-X input").attr("checked",!1),d.find(".miniColors-colors").removeClass("miniColors-transparent"),d.find(".miniColors-colors").addClass("miniColors-nocolor"),
d.find(".miniColors-colorPicker").hide(),d.find(".miniColors-huePicker").hide(),d.find(".miniColors-hues").css("opacity",0.3),a.data("color","none"),a.data("change")&&a.data("change").call(a,"none")):(d.find(".miniColors-colors").removeClass("miniColors-nocolor"),d.find(".miniColors-colorPicker").show(),d.find(".miniColors-huePicker").show(),d.find(".miniColors-hues").css("opacity",1),b="#"+h({h:c.h,s:100,b:100}),a.data("color",b),d.find(".miniColors-colors").css("backgroundColor",b),a.data("change")&&
(b="#"+h({h:c.h,s:c.s,b:c.b}),a.data("change").call(a,b)))});b(".miniColors-X input").bind("click",function(b){b.target.checked?(d.find(".miniColors-none input").attr("checked",!1),d.find(".miniColors-colors").removeClass("miniColors-nocolor"),d.find(".miniColors-colors").addClass("miniColors-transparent"),d.find(".miniColors-colorPicker").hide(),d.find(".miniColors-huePicker").hide(),d.find(".miniColors-hues").css("opacity",0.3),a.data("color","transparent"),a.data("change")&&a.data("change").call(a,
"transparent")):(d.find(".miniColors-colors").removeClass("miniColors-transparent"),d.find(".miniColors-colorPicker").show(),d.find(".miniColors-huePicker").show(),d.find(".miniColors-hues").css("opacity",1),b="#"+h({h:c.h,s:100,b:100}),a.data("color",b),d.find(".miniColors-colors").css("backgroundColor",b),a.data("change")&&(b="#"+h({h:c.h,s:c.s,b:c.b}),a.data("change").call(a,b)))});b(".cpCancel").bind("click",{input:a},m);b(".cpSave").bind("click",{input:a},f);d.fadeIn(100);d.bind("selectstart",
function(){return!1});b(document).bind("mousedown.miniColors",function(c){"none"!==a.data("color")&&"transparent"!==a.data("color")&&(a.data("mousebutton",1),b(c.target).parents().andSelf().hasClass("miniColors-colors")&&(c.preventDefault(),a.data("moving","colors"),r(a,c)),b(c.target).parents().andSelf().hasClass("miniColors-hues")&&(c.preventDefault(),a.data("moving","hues"),z(a,c)),b(c.target).parents().andSelf().hasClass("miniColors-selector")?c.preventDefault():b(c.target).parents().andSelf().hasClass("miniColors")||
m({data:{input:a}}))});b(document).bind("mouseup.miniColors",function(){"none"!==a.data("color")&&(a.data("mousebutton",0),a.removeData("moving"))});b(document).bind("mousemove.miniColors",function(b){"none"!==a.data("color")&&1===a.data("mousebutton")&&("colors"===a.data("moving")&&r(a,b),"hues"===a.data("moving")&&z(a,b))});(e=a.data("onShow"))&&e.call(a,"#"+h(c))},w=function(a){a||(a=".miniColors");b(a).each(function(){var a=b(this).data("selector");b(this).removeData("selector");b(a).fadeOut(100,
function(){b(this).remove()})});b(document).unbind("mousedown.miniColors");b(document).unbind("mousemove.miniColors")},r=function(a,d){var e,c,g;g=a.data("colorPicker");g.hide();e={x:d.clientX-a.data("selector").find(".miniColors-colors").offset().left+b(document).scrollLeft()-5,y:d.clientY-a.data("selector").find(".miniColors-colors").offset().top+b(document).scrollTop()-5};-5>=e.x&&(e.x=-5);144<=e.x&&(e.x=144);-5>=e.y&&(e.y=-5);144<=e.y&&(e.y=144);a.data("colorPosition",e);g.css("left",e.x).css("top",
e.y).show();g=Math.round(0.67*(e.x+5));0>g&&(g=0);100<g&&(g=100);c=100-Math.round(0.67*(e.y+5));0>c&&(c=0);100<c&&(c=100);e=a.data("hsb");e.s=g;e.b=c;A(a,e,!0)},z=function(a,d){var e,c;c=a.data("huePicker");c.hide();e={y:d.clientY-a.data("selector").find(".miniColors-colors").offset().top+b(document).scrollTop()-1};-1>=e.y&&(e.y=-1);149<=e.y&&(e.y=149);a.data("huePosition",e);c.css("top",e.y).show();c=Math.round(2.4*(150-e.y-1));0>c&&(c=0);360<c&&(c=360);e=a.data("hsb");e.h=c;A(a,e,!0)},A=function(a,
b,e){var c;a.data("hsb",b);c=h(b);e&&a.val("#"+c);a.data("trigger").css("backgroundColor","#"+c);a.data("color","#"+c);a.data("selector")&&a.data("selector").find(".miniColors-colors").css("backgroundColor","#"+h({h:b.h,s:100,b:100}));a.data("change")&&a.data("change").call(a,"#"+c,u(b))},y=function(a){var b=Math.ceil(a.s/0.67);0>b&&(b=0);150<b&&(b=150);a=150-Math.ceil(a.b/0.67);0>a&&(a=0);150<a&&(a=150);return{x:b-5,y:a-5}},n=function(a){a=150-a.h/2.4;0>a&&(a=0);150<a&&(a=150);return{y:a-1}},l=function(a){a=
a.replace(/[^A-Fa-f0-9]/,"");3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return 6===a.length?a:null},u=function(a){var b,e,c,g,f;c=Math.round(a.h);b=Math.round(255*a.s/100);a=Math.round(255*a.b/100);0===b?c=g=f=a:(e=(255-b)*a/255,b=c%60*(a-e)/60,360===c&&(c=0),60>c?(c=a,f=e,g=e+b):120>c?(g=a,f=e,c=a-b):180>c?(g=a,c=e,f=e+b):240>c?(f=a,c=e,g=a-b):300>c?(f=a,g=e,c=e+b):360>c?(c=a,g=e,f=a-b):f=g=c=0);return{r:Math.round(c),g:Math.round(g),b:Math.round(f)}},x=function(a){var d=[a.r.toString(16),a.g.toString(16),
a.b.toString(16)];b.each(d,function(a,b){1===b.length&&(d[a]="0"+b)});return d.join("").toUpperCase()},q=function(a){var b=a,b=parseInt(-1<b.indexOf("#")?b.substring(1):b,16);a=b>>16;var e=(b&65280)>>8,b=b&255,c={h:0,s:0,b:0},g=Math.min(a,e,b),f=Math.max(a,e,b),g=f-g;c.b=f;c.s=0!==f?255*g/f:0;c.h=0!==c.s?a===f?(e-b)/g:e===f?2+(b-a)/g:4+(a-e)/g:-1;c.h*=60;0>c.h&&(c.h+=360);c.s*=100/255;c.b*=100/255;0===c.s&&(c.h=360);return c},h=function(a){return x(u(a))};switch(v){case "readonly":return b(this).each(function(){b(this).attr("readonly",
p)}),b(this);case "value":return b(this).each(function(){b(this).val(p).trigger("keyup")}),b(this);case "destroy":return b(this).each(function(){var a=b(this);w();a=b(a);a.data("trigger").remove();a.removeAttr("autocomplete");a.removeData("trigger");a.removeData("selector");a.removeData("hsb");a.removeData("huePicker");a.removeData("colorPicker");a.removeData("mousebutton");a.removeData("moving");a.unbind("click.miniColors");a.unbind("focus.miniColors");a.unbind("blur.miniColors");a.unbind("keyup.miniColors");
a.unbind("keydown.miniColors");a.unbind("paste.miniColors");b(document).unbind("mousedown.miniColors");b(document).unbind("mousemove.miniColors")}),b(this);default:return v||(v={}),b(this).each(function(){"input"===b(this)[0].tagName.toLowerCase()&&(b(this).data("trigger")||t(b(this),v,p))}),b(this)}}})}(jQuery);
