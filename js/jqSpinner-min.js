!function(t){"use strict";var i=function(){function t(t,i){var e,n=document.createElement(t||"div");for(e in i)n[e]=i[e];return n}function i(t){var i,e;for(i=1,e=arguments.length;e>i;i++)t.appendChild(arguments[i]);return t}function e(t,i,e,n){var o,s,r,a,l;return o=["opacity",i,~~(100*t),e,n].join("-"),s=.01+e/n*100,r=Math.max(1-(1-t)/i*(100-s),t),a=f.substring(0,f.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"",h[o]||(c.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+r+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+i)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",c.cssRules.length),h[o]=1),o}function n(t,i){var e,n,o;for(e=t.style,i=i.charAt(0).toUpperCase()+i.slice(1),o=0;o<u.length;o++)if(n=u[o]+i,void 0!==e[n])return n;return void 0!==e[i]?i:void 0}function o(t,i){var e;for(e in i)t.style[n(t,e)||e]=i[e];return t}function s(t){var i,e,n;for(e=1;e<arguments.length;e++){n=arguments[e];for(i in n)void 0===t[i]&&(t[i]=n[i])}return t}function r(t,i){return"string"==typeof t?t:t[i%t.length]}function a(t){this.opts=s(t||{},a.defaults,d)}function l(){function e(i,e){return t("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}c.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,n){function s(){return o(e("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(t,a,l){i(p,i(o(s(),{rotation:360/n.lines*t+"deg",left:~~a}),i(o(e("roundrect",{arcsize:n.corners}),{width:c,height:n.width,left:n.radius,top:-n.width>>1,filter:l}),e("fill",{color:r(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}var l,p,d,c=n.length+n.width,u=2*c;if(l=2*-(n.width+n.length)+"px",p=o(s(),{position:"absolute",top:l,left:l}),n.shadow)for(d=1;d<=n.lines;d++)a(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=n.lines;d++)a(d);return i(t,p)},a.prototype.opacity=function(t,i,e,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&i+n<o.childNodes.length&&(o=o.childNodes[i+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=e))}}var p,d,c,u,h,f;return u=["webkit","Moz","ms","O"],h={},c=function(){var e=t("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),d={},a.defaults={},s(a.prototype,{spin:function(i){var e,n,s,r,a,l,p,d,c,u,h;return this.stop(),d=this,c=d.opts,u=d.el=o(t(0,{className:c.className}),{position:c.position,width:0,zIndex:c.zIndex}),h=c.radius+c.length+c.width,o(u,{left:c.left,top:c.top}),i&&i.insertBefore(u,i.firstChild||null),u.setAttribute("role","progressbar"),d.lines(u,d.opts),f||(e=0,n=(c.lines-1)*(1-c.direction)/2,r=c.fps,a=r/c.speed,l=(1-c.opacity)/(a*c.trail/100),p=a/c.lines,function g(){var t;for(e++,t=0;t<c.lines;t++)s=Math.max(1-(e+(c.lines-t)*p)%a*l,c.opacity),d.opacity(u,t*c.direction+n,s,c);d.timeout=d.el&&setTimeout(g,~~(1e3/r))}()),d},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,s){function a(i,e){return o(t(),{position:"absolute",width:s.length+s.width+"px",height:s.width+"px",background:i,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*l+s.rotate)+"deg) translate("+s.radius+"px,0)",borderRadius:(s.corners*s.width>>1)+"px"})}var l,p,d;for(l=0,p=(s.lines-1)*(1-s.direction)/2;l<s.lines;l++)d=o(t(),{position:"absolute",top:1+~(s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:f&&e(s.opacity,s.trail,p+l*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&i(d,o(a("#000","0 0 4px #000"),{top:"2px"})),i(n,i(d,a(r(s.color,l),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,i,e){i<t.childNodes.length&&(t.childNodes[i].style.opacity=e)}}),p=o(t("group"),{behavior:"url(#default#VML)"}),!n(p,"transform")&&p.adj?l():f=n(p,"animation"),a}();t.widget("easy.Spinner",{_spinner:!1,_presets:{teensy:{lines:9,length:3,width:1,radius:1,corners:0},tiny:{lines:9,length:4,width:1,radius:3},small:{lines:11,length:4,width:2,radius:5},large:{lines:10,length:8,width:4,radius:8}},options:{lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.1,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute",autostart:!1,preset:""},_create:function(){this._spinner&&(this._stop(),delete this._spinner),this._presets[this.options.preset]&&t.extend(this.options,this._presets[this.options.preset]),this._spinner=new i(this.options),this.options.autostart&&this.spin()},spin:function(){this._spinner.spin(this.element[0])},stop:function(){this._spinner.stop()}})}(jQuery);