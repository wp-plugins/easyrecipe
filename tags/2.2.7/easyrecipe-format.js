(function(a){a(function(){var c,b=[],d=["gradient","picker_thumb","trigger","rainbow","hue_thumb"];for(c=0;c<d.length;c++){b.push(new Image());b[c].src=EASYRECIPE.easyrecipeURL+"/images/format/"+d[c]+".png"}});a.fn.ERColorPicker=function(g,f,d){var k=this,m=a(g);var o=f;d=d||f;var b="";var i=m.css(d);function c(q){var p;q=q.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);try{p=("#"+("0"+parseInt(q[1],10).toString(16)).slice(-2)+("0"+parseInt(q[2],10).toString(16)).slice(-2)+("0"+parseInt(q[3],10).toString(16)).slice(-2)).toUpperCase();return p}catch(r){}return null}function n(p){b=p}function e(p){if(p==="none"){m.css(o,"")}else{m.css(o,p)}}function l(){var p=this.data("color");k.trigger("formatchange");if(p==="none"||p==="transparent"){this.miniColors("value","")}this.data("oldColor",p)}function j(){m.css(o,this.data("oldColor"));if(this.data("oldColor")==="none"||this.data("oldColor")==="transparent"){this.miniColors("value","")}else{this.miniColors("value",this.data("oldColor"))}this.data("color",this.data("oldColor"))}if(i){if(i!=="transparent"){b=c(i)}else{b=i}this.val(b)}this.miniColors({change:e,cancel:j,save:l,onShow:n,value:b})}}(jQuery));(function(a){a.widget("ui.combobox",{_create:function(){var d=this,b=this.element.hide(),e=b.children(":selected"),f=e.val()?e.text():"";var c=this.input=a("<input>").insertAfter(b).val(f).autocomplete({delay:0,minLength:0,source:function(i,g){var j=new RegExp(a.ui.autocomplete.escapeRegex(i.term),"i");g(b.children("option").map(function(){var k=a(this).text();if(this.value&&(!i.term||j.test(k))){return{label:k.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.ui.autocomplete.escapeRegex(i.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:k,option:this}}}))},select:function(g,i){i.item.option.selected=true;d._trigger("selected",g,{item:i.item.option})},change:function(i,j){if(!j.item){var k=new RegExp("^"+a.ui.autocomplete.escapeRegex(a(this).val())+"$","i"),g=false;b.children("option").each(function(){if(a(this).text().match(k)){this.selected=g=true;return false}});if(!g){a(this).val("");b.val("");c.data("autocomplete").term="";return false}}}}).addClass("ui-widget ui-widget-content ui-corner-left");c.data("autocomplete")._renderItem=function(g,i){return a("<li></li>").data("item.autocomplete",i).append("<a>"+i.label+"</a>").appendTo(g)};this.button=a("<button type='button'>&nbsp;</button>").attr("tabIndex",-1).attr("title","Show All Items").insertAfter(c).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){if(c.autocomplete("widget").is(":visible")){c.autocomplete("close");return}a(this).blur();c.autocomplete("search","");c.focus()})},destroy:function(){this.input.remove();this.button.remove();this.element.show();a.Widget.prototype.destroy.call(this)}})}(jQuery));(function(a){a.fn.ERFontChange=function(v,d){var b=/ /g;var w,x,z=a(v);var g=this;var k=d||{};var e=k.spacing||{};var t=EASYRECIPE.fontChangeHTML;this.append(t);if(!k.showList){this.find(".divERFFList").hide()}var l=["inherit","Arial, Verdana, sans-serif","Comic Sans MS, cursive","Tahoma, Verdana, sans-serif","'Trebuchet MS', Verdana, sans-serif","'Times New Roman', serif","Verdana, Arial, sans-serif"];var c=z.css("fontFamily")||"";var j=this.find(".EFFFamily");var r,q,u=-1;function o(i,A){z.css("fontFamily",A.item.value);g.trigger("formatchange")}function p(i){z.css("fontStyle",i.target.value);g.trigger("formatchange")}function s(i){z.css("fontWeight",i.target.value);g.trigger("formatchange")}function m(i,A){z.css("fontSize",A.value);g.trigger("formatchange")}function y(i){z.css("listStyleType",i.target.value);g.trigger("formatchange")}function f(i){z.css("listStylePosition",i.target.value);g.trigger("formatchange")}function n(A,i){return A.replace(b,"")===i.replace(b,"")}j.each(function(){var i=this.options;for(w=0;w<l.length;w++){if(n(l[w],c)){x=true;u=w}q=w===u;r=l[w];i[w]=new Option(l[w],r,q,q)}if(!x){i[i.length]=new Option(c,c,true,true)}});this.find(".EFFFamily").combobox({selected:o});this.find(".ERFFColorInput").ERColorPicker(v,"color");this.find(".ERFFBGColorInput").ERColorPicker(v,"backgroundColor");EASYRECIPE.setSelected(z.css("fontStyle"),this.find(".lbERFFStyle option"));this.find(".lbERFFStyle").change(p);EASYRECIPE.setSelected(z.css("fontWeight"),this.find(".lbERFFWeight option"));this.find(".lbERFFWeight").change(s);if(k.showList){EASYRECIPE.setSelected(z.css("listStyleType"),this.find(".lbERFListStyle option"));this.find(".lbERFListStyle").change(y);EASYRECIPE.setSelected(z.css("listStylePosition"),this.find(".lbERFListPosition option"));this.find(".lbERFListPosition").change(f)}this.find(".ERFFSize").ERSlider({min:8,max:50,value:parseInt(a(v).css("fontSize"),10),style:"fontSize",selector:v});a.extend(e,{title:"Margin",type:"margin"});this.find(".ERFFMargin").spacing(v,e);a.extend(e,{title:"Padding",type:"padding"});this.find(".ERFFPadding").spacing(v,e);return this}}(jQuery));(function(a){a.fn.ERSlider=function(e){var j,b,f,i=this;var c={width:120,min:1,max:20,value:1,selector:"",style:""};a.extend(c,e);j=a(c.selector);b=a('<input class=ERSliderInput" type="text" max="2" size="2" />');f=a('<span class="ERSliderSlider"></span>');function d(k){f.slider("value",k.target.value);j.css(c.style,k.target.value+"px");i.trigger("formatchange")}function g(k,l){b.val(l.value);j.css(c.style,l.value+"px");i.trigger("formatchange")}f.slider({min:c.min,max:c.max,value:c.value,slide:g});b.val(c.value);b.bind("change",d);a(this).append(b);a(this).append(f);return this}}(jQuery));(function(a){a.fn.spacing=function(x,e){var A="Top",i="px",q="disabled",b="value",c="sProperties",f=this;var n=a(x);var u={Top:0,Bottom:0,Left:0,Right:0};var t;var z=false,w;var j={type:"margin",title:"",min:0,max:50};a.extend(j,e);w=a("<div></div>");w.append(a('<div class="ERFOptionHeader"><span class="ERFOptionTitle"></span><span class="ERFSpacingSameForAll"><label>Same for all <input type="checkbox" class="ERFSpacingSameCB" /></label></span></div>'));var k='<div class="ERFSliderLine"><div class="ERFSliderType"></div><div><input class="ERFSliderValue" type="text" size="2" maxlength="2" /></div><div class="ERFSpacingSlider"></div></div>';var v={};function r(B){var d=B.data.sliders;z=B.target.checked;var D,C,s;C=B.data.input.val();for(D in d){if(d.hasOwnProperty(D)){if(D!==A){s=d[D].slider;if(z){s.slider(b,C);s.slider("disable");d[D].input.val(C);d[D].input.attr(q,q);n.css(j.type+D,C+i)}else{s.slider("enable");d[D].input.removeAttr(q)}}}}}function m(d){d.data.slider.slider(b,d.target.value);l({target:d.data.slider[0]},{value:d.target.value})}function l(s,C){var D,B=C.value+i;f.trigger("formatchange");var E=a.data(s.target,c);n.css(E.style,B);E.input.val(C.value);if(E.position===A&&z){var d=E.sliders;for(D in d){if(D===A){continue}if(d.hasOwnProperty(D)){d[D].input.val(C.value);d[D].slider.slider(b,C.value);n.css(j.type+D,B)}}}}for(t in u){if(u.hasOwnProperty(t)){u[t]=parseInt(n.css(j.type+t),10);v[t]={};var o=a(k);v[t].input=o.find(".ERFSliderValue");v[t].input.val(u[t]);v[t].postion=t;o.find(".ERFSliderType").html(t);var g={style:j.type+t,input:v[t].input,position:t};v[t].slider=o.find(".ERFSpacingSlider").slider({min:j.min,max:j.max,value:u[t],slide:l}).data(c,g);v[t].input.change({slider:v[t].slider},m);w.append(o)}}var y=v[A].slider.data();a.extend(y.sProperties,{sliders:v});v[A].slider.data(y);w.find(".ERFSpacingSameCB").click(y.sProperties,r);this.append(w);this.find(".ERFOptionTitle").html(j.title);return this}}(jQuery));(function(a){a(function(){if(typeof EASYRECIPE==="undefined"){EASYRECIPE={}}var j,z,v,f=false,l=false,u,c,q,C="close",b,o="Format Easy Recipe";var p=".easyrecipe",e=a(p);var y=[".ERHead",".ingredients .ERSeparator",".ingredients .ingredient",p,".ERName",".ERIngredientsHeader",".ingredients",".ERInstructionsHeader",".easyrecipe ol li",".instructions ol",".instructions",".ERNotesHeader",".ERNotes",".nutrition"];var w;if(window.location.search.indexOf("erprint")!==-1){a("#ERFPrintTab").remove();o="Format Easy Recipe Print"}function A(){var D;var E=confirm("This will clear your custom formatting\nAre you sure you want to do this?");if(E){q.show().html("Resetting...");D="css="+JSON.stringify([]);if(window.location.search.indexOf("erprint")!==-1){D+="&erprint=1"}a.ajax({url:EASYRECIPE.ajaxURL+"?action=customCSS",type:"POST",data:D,success:function(){window.location.reload()}})}}function i(){var H={};var E,F,G;q.show().html("Updating...");for(E=0;E<y.length;E++){var D=a(y[E]);F=a(y[E]).attr("style");if(F){H[y[E]]=F}}G="css="+JSON.stringify(H);if(window.location.search.indexOf("erprint")!==-1){G+="&erprint=true"}a.ajax({url:EASYRECIPE.ajaxURL+"?action=customCSS",type:"POST",data:G,success:function(){l=false;q.hide();if(f){f=false;c.dialog(C)}}})}function B(E,F){var H=F.newHeader.height();if(!H){return}var G=(F.newHeader.position()).top;H+=F.newContent.height()+3;if(v-z>G+H){return}var D=G-(v-H)/2;c.animate({scrollTop:D},500)}function n(D,E){if(E.index===2){b.hide()}else{b.show();a(E.panel).find(".ERFBasicDiv").append(a(".ERFBasic"))}}function k(D){}function d(D){}function g(D){a(".easyrecipe").css("borderStyle",D.target.value)}function x(F,D){var E;F=F==="400"?"normal":F==="700"?"bold":F;for(E=0;E<D.length;E++){if(F===D[E].value){D[E].selected=true;break}}}function r(){var D;if(a("#easyrecipeWrapper").length===0){a(".ERFormatDialog").wrap('<div id="easyrecipeWrapper" />');a(".ui-autocomplete.ui-menu.ui-widget").appendTo("#easyrecipeWrapper")}a(".ERFDialogBox").css("height",610);j=a(".ERFormatDialog");v=a("#ERFTabs").height();z=j.find(".ui-dialog-titlebar").height();var E=a("#wpadminbar").height()||0;j.css({top:(E+60)+"px",position:v>(a(window).height()-E-10)?"absolute":"fixed"})}function s(){if(l){u=a("<div></div>").dialog({resizable:false,width:375,title:"You have unsaved changes",modal:true,height:75,buttons:{Cancel:function(){u.dialog(C)},"Ignore Changes":function(){l=false;u.dialog(C);c.dialog(C);window.location.reload()},"Save Changes":function(){f=true;i();u.dialog(C)}},dialogClass:"ERFSaveAlert",close:function(){a(".easyrecipeWrapper").filter(function(){if(a(this).text()===""){return true}return false}).remove()},open:function(D,E){a(".ui-widget-overlay").wrap('<div class="easyrecipeWrapper" />');if(a("#easyrecipeWrapper").length===0){a(".ERFSaveAlert").wrap('<div id="easyrecipeWrapper" />')}else{a("#easyrecipeWrapper").append(a(".ERFSaveAlert"))}}});return false}return true}function m(){l=true}q=a("#divERFWait");b=a("#ERFButtons");EASYRECIPE.setSelected=x;var t=JSON.parse(EASYRECIPE.customCSS);for(w in t){if(t.hasOwnProperty(w)){if(t&&t[w]){a(w).attr("style",t[w])}}}a("#ERFTabs").tabs({selected:0,select:n});a("#accordion").accordion({active:false,collapsible:true,clearStyle:true,change:B});a(".divERFBFont").ERFontChange(p);a(".ERFDialogBox").bind("formatchange",m);a(".ERBorderColorPick").ERColorPicker(p,"borderColor","borderTopColor");EASYRECIPE.setSelected(e.css("borderTopStyle"),a(".ERBorderStyle option"));a(".ERBorderStyle").change(g);a(".divERFBBorderSliderBox").ERSlider({min:1,max:10,value:parseInt(e.css("borderTopWidth"),10),selector:p,style:"borderWidth"});a("#divERFSummary").ERFontChange(".ERSummary");a("#divERFName").ERFontChange(".ERName");a("#divERFDetails").ERFontChange(".ERHead");a("#divERFIngredientsHeading").ERFontChange(".ERIngredientsHeader");a("#divERFIngredientsList").ERFontChange(".ingredients",{showList:true});a("#divERFIngredientsItems").ERFontChange(".ingredients .ingredient",{showList:true});a("#divERFIngredientsSeparators").ERFontChange(".ingredients .ERSeparator",{spacing:{min:-30}});a("#divERFInstructionsHeading").ERFontChange(".ERInstructionsHeader");a("#divERFInstructionsList").ERFontChange(".instructions",{showList:true});a("#divERFInstructionsItems").ERFontChange(".instructions .instruction",{showList:true});a("#divERFInstructionsSeparators").ERFontChange(".instructions .ERSeparator",{spacing:{min:-30}});a("#divERFNutrition").ERFontChange(".nutrition");a("#divERFNotesHeader").ERFontChange(".ERNotesHeader");a("#divERFNotes").ERFontChange(".ERNotes");a("#btnERFReset").click(A);a("#btnERFUpdate").click(i);c=a(".ERFDialogBox").dialog({resizable:false,width:352,autoOpen:false,minHeight:610,title:o,position:[60,60],dialogClass:"ERFormatDialog",beforeClose:s,open:r});EASYRECIPE.openFormat=function(){c.dialog("open")};e.click(EASYRECIPE.openFormat).addClass("ERPointer").attr("title","Click to open the formatting window")})}(jQuery));if(jQuery){(function(a){a.extend(a.fn,{miniColors:function(q,x){var n=function(A,E,D){var y=i("#FFFFFF"),z="none",C=A.val();A.data("oldColor",C);if(C.charAt(0)==="#"){z=s(C);if(z){y=i(z)}A.data("color",z)}else{A.val("");A.data("color",C);z=""}var B=a('<a class="miniColors-trigger" style="background-color: #'+z+'" href="#"></a>');B.insertAfter(A);A.addClass("miniColors").attr("maxlength",7).attr("autocomplete","off");A.data("trigger",B);A.data("hsb",y);if(E.change){A.data("change",E.change)}if(E.cancel){A.data("cancel",E.cancel)}if(E.save){A.data("save",E.save)}if(E.onShow){A.data("onShow",E.onShow)}if(E.readonly){A.attr("readonly",true)}if(E.disabled){disable(A)}B.bind("click.miniColors",function(o){o.preventDefault();A.trigger("focus")});A.bind("focus.miniColors",function(o){v(A)});A.bind("blur.miniColors",function(F){var o=s(A.val());A.val(o?"#"+o:"")});A.bind("keydown.miniColors",function(o){if(o.keyCode===9){m(A)}});A.bind("keyup.miniColors",function(o){var F=A.val().replace(/[^A-F0-9#]/ig,"");A.val(F);if(!k(A)){A.data("trigger").css("backgroundColor","#FFF")}});A.bind("paste.miniColors",function(o){setTimeout(function(){A.trigger("keyup")},5)})};var w=function(o){m();o=a(o);o.data("trigger").remove();o.removeAttr("autocomplete");o.removeData("trigger");o.removeData("selector");o.removeData("hsb");o.removeData("huePicker");o.removeData("colorPicker");o.removeData("mousebutton");o.removeData("moving");o.unbind("click.miniColors");o.unbind("focus.miniColors");o.unbind("blur.miniColors");o.unbind("keyup.miniColors");o.unbind("keydown.miniColors");o.unbind("paste.miniColors");a(document).unbind("mousedown.miniColors");a(document).unbind("mousemove.miniColors")};var v=function(F){if(F.attr("disabled")){return false}m();var A=a('<div class="miniColors-selector"></div>');A.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>');A.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>');A.append('<div class="cpButtons"><div class="miniColors-none" style="float:left"><label><input type="checkbox" /> None</label></div><div class="miniColors-X" style="float:left;padding-left:6px"><label><input type="checkbox" /> X</label></div><div class="cpCancel"><a></a></div><div class="cpSave"><a></a></div></div>');A.css({top:F.is(":visible")?F.offset().top+F.outerHeight():F.data("trigger").offset().top+F.data("trigger").outerHeight(),left:F.is(":visible")?F.offset().left:F.data("trigger").offset().left,display:"none"}).addClass(F.attr("class"));var C=F.data("hsb");var B=F.data("color");if(B==="none"){A.find(".miniColors-colors").addClass("miniColors-nocolor");A.find(".miniColors-none input").attr("checked",true);A.find(".miniColors-colorPicker").hide();A.find(".miniColors-huePicker").hide();A.find(".miniColors-hues").css("opacity",0.3)}else{if(B==="transparent"){A.find(".miniColors-colors").addClass("miniColors-transparent");A.find(".miniColors-X input").attr("checked",true);A.find(".miniColors-colorPicker").hide();A.find(".miniColors-huePicker").hide();A.find(".miniColors-hues").css("opacity",0.3)}else{A.find(".miniColors-colors").css("backgroundColor","#"+g({h:C.h,s:100,b:100}))}}var o=F.data("colorPosition");if(!o){o=d(C)}A.find(".miniColors-colorPicker").css("top",o.y+"px").css("left",o.x+"px");var E=F.data("huePosition");if(!E){E=p(C)}A.find(".miniColors-huePicker").css("top",E.y+"px");F.data("selector",A);F.data("huePicker",A.find(".miniColors-huePicker"));F.data("colorPicker",A.find(".miniColors-colorPicker"));F.data("mousebutton",0);a("BODY").append(A);var y=function(H){var G;if(!H.target.checked){A.find(".miniColors-colors").removeClass("miniColors-nocolor");A.find(".miniColors-colorPicker").show();A.find(".miniColors-huePicker").show();A.find(".miniColors-hues").css("opacity",1);G="#"+g({h:C.h,s:100,b:100});F.data("color",G);A.find(".miniColors-colors").css("backgroundColor",G);if(F.data("change")){G="#"+g({h:C.h,s:C.s,b:C.b});F.data("change").call(F,G)}}else{A.find(".miniColors-X input").attr("checked",false);A.find(".miniColors-colors").removeClass("miniColors-transparent");A.find(".miniColors-colors").addClass("miniColors-nocolor");A.find(".miniColors-colorPicker").hide();A.find(".miniColors-huePicker").hide();A.find(".miniColors-hues").css("opacity",0.3);F.data("color","none");if(F.data("change")){F.data("change").call(F,"none")}}};var z=function(H){var G;if(!H.target.checked){A.find(".miniColors-colors").removeClass("miniColors-transparent");A.find(".miniColors-colorPicker").show();A.find(".miniColors-huePicker").show();A.find(".miniColors-hues").css("opacity",1);G="#"+g({h:C.h,s:100,b:100});F.data("color",G);A.find(".miniColors-colors").css("backgroundColor",G);if(F.data("change")){G="#"+g({h:C.h,s:C.s,b:C.b});F.data("change").call(F,G)}}else{A.find(".miniColors-none input").attr("checked",false);A.find(".miniColors-colors").removeClass("miniColors-nocolor");A.find(".miniColors-colors").addClass("miniColors-transparent");A.find(".miniColors-colorPicker").hide();A.find(".miniColors-huePicker").hide();A.find(".miniColors-hues").css("opacity",0.3);F.data("color","transparent");if(F.data("change")){F.data("change").call(F,"transparent")}}};a(".miniColors-none input").bind("click",y);a(".miniColors-X input").bind("click",z);a(".cpCancel").bind("click",{input:F},f);a(".cpSave").bind("click",{input:F},t);A.fadeIn(100);A.bind("selectstart",function(){return false});a(document).bind("mousedown.miniColors",function(G){if(F.data("color")==="none"||F.data("color")==="transparent"){return}F.data("mousebutton",1);if(a(G.target).parents().andSelf().hasClass("miniColors-colors")){G.preventDefault();F.data("moving","colors");c(F,G)}if(a(G.target).parents().andSelf().hasClass("miniColors-hues")){G.preventDefault();F.data("moving","hues");l(F,G)}if(a(G.target).parents().andSelf().hasClass("miniColors-selector")){G.preventDefault();return}if(a(G.target).parents().andSelf().hasClass("miniColors")){return}f({data:{input:F}})});a(document).bind("mouseup.miniColors",function(G){if(F.data("color")==="none"){return}F.data("mousebutton",0);F.removeData("moving")});a(document).bind("mousemove.miniColors",function(G){if(F.data("color")==="none"){return}if(F.data("mousebutton")===1){if(F.data("moving")==="colors"){c(F,G)}if(F.data("moving")==="hues"){l(F,G)}}});var D=F.data("onShow");if(D){D.call(F,"#"+g(C))}};function f(y){var o,z;o=y.data.input;m(o);z=o.data("cancel");if(z){z.call(o)}}function t(z){var y,o;y=z.data.input;m(y);o=y.data("save");if(o){o.call(y)}}var m=function(o){if(!o){o=".miniColors"}a(o).each(function(){var y=a(this).data("selector");a(this).removeData("selector");a(y).fadeOut(100,function(){a(this).remove()})});a(document).unbind("mousedown.miniColors");a(document).unbind("mousemove.miniColors")};var c=function(B,D){var A=B.data("colorPicker");A.hide();var y={x:D.clientX-B.data("selector").find(".miniColors-colors").offset().left+a(document).scrollLeft()-5,y:D.clientY-B.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-5};if(y.x<=-5){y.x=-5}if(y.x>=144){y.x=144}if(y.y<=-5){y.y=-5}if(y.y>=144){y.y=144}B.data("colorPosition",y);A.css("left",y.x).css("top",y.y).show();var C=Math.round((y.x+5)*0.67);if(C<0){C=0}if(C>100){C=100}var o=100-Math.round((y.y+5)*0.67);if(o<0){o=0}if(o>100){o=100}var z=B.data("hsb");z.s=C;z.b=o;e(B,z,true)};var l=function(z,B){var C=z.data("huePicker");C.hide();var o={y:B.clientY-z.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-1};if(o.y<=-1){o.y=-1}if(o.y>=149){o.y=149}z.data("huePosition",o);C.css("top",o.y).show();var A=Math.round((150-o.y-1)*2.4);if(A<0){A=0}if(A>360){A=360}var y=z.data("hsb");y.h=A;e(z,y,true)};var e=function(y,o,z){y.data("hsb",o);var A=g(o);if(z){y.val("#"+A)}y.data("trigger").css("backgroundColor","#"+A);y.data("color","#"+A);if(y.data("selector")){y.data("selector").find(".miniColors-colors").css("backgroundColor","#"+g({h:o.h,s:100,b:100}))}if(y.data("change")){y.data("change").call(y,"#"+A,u(o))}};var k=function(A){var B=s(A.val());if(!B){return false}var z=i(B);var D=A.data("hsb");if(z.h===D.h&&z.s===D.s&&z.b===D.b){return true}var y=d(z);var o=a(A.data("colorPicker"));o.css("top",y.y+"px").css("left",y.x+"px");var E=p(z);var C=a(A.data("huePicker"));C.css("top",E.y+"px");e(A,z,false);return true};var d=function(z){var o=Math.ceil(z.s/0.67);if(o<0){o=0}if(o>150){o=150}var A=150-Math.ceil(z.b/0.67);if(A<0){A=0}if(A>150){A=150}return{x:o-5,y:A-5}};var p=function(o){var z=150-(o.h/2.4);if(z<0){h=0}if(z>150){h=150}return{y:z-1}};var s=function(o){o=o.replace(/[^A-Fa-f0-9]/,"");if(o.length===3){o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]}return o.length===6?o:null};var u=function(o){var z={};var D=Math.round(o.h);var C=Math.round(o.s*255/100);var y=Math.round(o.b*255/100);if(C===0){z.r=z.g=z.b=y}else{var E=y;var B=(255-C)*y/255;var A=(E-B)*(D%60)/60;if(D===360){D=0}if(D<60){z.r=E;z.b=B;z.g=B+A}else{if(D<120){z.g=E;z.b=B;z.r=E-A}else{if(D<180){z.g=E;z.r=B;z.b=B+A}else{if(D<240){z.b=E;z.r=B;z.g=E-A}else{if(D<300){z.b=E;z.g=B;z.r=B+A}else{if(D<360){z.r=E;z.g=B;z.b=E-A}else{z.r=0;z.g=0;z.b=0}}}}}}}return{r:Math.round(z.r),g:Math.round(z.g),b:Math.round(z.b)}};var b=function(o){var y=[o.r.toString(16),o.g.toString(16),o.b.toString(16)];a.each(y,function(z,A){if(A.length===1){y[z]="0"+A}});return y.join("").toUpperCase()};var r=function(o){o=parseInt(((o.indexOf("#")>-1)?o.substring(1):o),16);return{r:o>>16,g:(o&65280)>>8,b:(o&255)}};var j=function(z){var y={h:0,s:0,b:0};var A=Math.min(z.r,z.g,z.b);var o=Math.max(z.r,z.g,z.b);var B=o-A;y.b=o;y.s=o!==0?255*B/o:0;if(y.s!==0){if(z.r===o){y.h=(z.g-z.b)/B}else{if(z.g===o){y.h=2+(z.b-z.r)/B}else{y.h=4+(z.r-z.g)/B}}}else{y.h=-1}y.h*=60;if(y.h<0){y.h+=360}y.s*=100/255;y.b*=100/255;return y};var i=function(y){var o=j(r(y));if(o.s===0){o.h=360}return o};var g=function(o){return b(u(o))};switch(q){case"readonly":a(this).each(function(){a(this).attr("readonly",x)});return a(this);case"disabled":a(this).each(function(){if(x){disable(a(this))}else{enable(a(this))}});return a(this);case"value":a(this).each(function(){a(this).val(x).trigger("keyup")});return a(this);case"destroy":a(this).each(function(){w(a(this))});return a(this);default:if(!q){q={}}a(this).each(function(){if(a(this)[0].tagName.toLowerCase()!=="input"){return}if(a(this).data("trigger")){return}n(a(this),q,x)});return a(this)}}})}(jQuery))};