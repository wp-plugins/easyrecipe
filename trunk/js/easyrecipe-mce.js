(function $main(a){tinymce.create("tinymce.plugins.EasyRecipe",{init:function(b,c){c=c.replace(/js$/g,"images/");b.onLoadContent.add(function(d,e){if(d.editorId!=="mce_fullscreen"){a(window).trigger("easyrecipeload",[d,e])}});b.onSetContent.add(function(d,e){if(d.editorId==="mce_fullscreen"&&!e.initial){a(window).trigger("easyrecipeload",[d,e])}});b.addButton("easyrecipeEdit",{title:"Edit an EasyRecipe",image:c+"chef20edit.png",onclick:function(){a(window).trigger("easyrecipeedit")}});b.addButton("easyrecipeAdd",{title:"Add an EasyRecipe",image:c+"chef20add.png",onclick:function(){a(window).trigger("easyrecipeadd")}});b.addButton("easyrecipeTest",{title:"Test Rich Snippet Formatting at Google",image:c+"google.png",onclick:function(){if(EASYRECIPE.testURL!==""){window.open("http://www.google.com/webmasters/tools/richsnippets?url="+EASYRECIPE.testURL)}}});b.onBeforeExecCommand.add(function(e,i,h,k,g){var d,f,j;if(i!=="mceInsertContent"){return}if(EASYRECIPE.isEntryDialog){a(window).trigger("easyrecipeimage",k);g.terminate=true;return false}d=e.selection.getNode();f=a(d).parents(".easyrecipe");if(f.length>0){j=a("<p>").insertAfter(f);e.selection.select(j[0])}});b.onPreProcess.add(function(d,e){if(e.get){a(".value-title, .ERRatingInner",e.node).html("#ERDeleteMe#")}});b.onPostProcess.add(function(d,e){if(e.get){e.content=e.content.replace(/#ERDeleteMe#/ig," ")}})},getInfo:function(){return{longname:"EasyRecipe",author:"The Orgasmic Chef",authorurl:"http://www.orgasmicchef.com",infourl:"http://www.easyrecipeplugin.com/",version:"1.2"}}});tinymce.PluginManager.add("easyrecipe",tinymce.plugins.EasyRecipe)}(jQuery));